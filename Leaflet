<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #map {
            width: 100%;
            height: 800px;
        }
    </style>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>  
    <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script> 
    <script src="https://cdn.jsdelivr.net/npm/leaflet.path.drag@0.0.6/src/Path.Drag.min.js"></script>
</head>
<body>
    <div id = "map"></div>
    <script>
        var map = L.map('map').setView([10.123033,105.5322045,10], 9);

        L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        // L.marker([10.5728977,105.1754285], {draggable: true}).addTo(map);

        // var popup = L.popup([9.1755247,105.1047684], {content: '<p>Ca mau </p>'})
        //     .openOn(map);
        //     var myIcon = L.icon({
        //     iconUrl: 'face.webp',
        //     iconSize: [30, 30],
        //     iconAnchor: [22, 94],
        // });

       // hien thi marker keo - kinh do - vi do
        // var marker = []
        // map.on('click', function(e){
        //     if (map.hasLayer(marker)) {
        //         //map.removeLayer(marker);
        //     }
        //     var newlocation = e.latlng;
        //     //map.on("click",function(e){
        //     var vt = e.latlng;
        //         //var marker =L.marker(vt,{title:'vido:'+vt.lat.toFixed(2)+' kinhdo:'+vt.lng.toFixed(2)}).addTo(map);               
        // })
        //     marker = L.marker(newlocation).addTo(map)   
       // })
        
       //hien thi nhieu maker
    //    map.on("click",function(e){
    //         var vt = e.latlng;
    //         var marker =L.marker(vt,{title:'vido:'+vt.lat.toFixed(2)+' kinhdo:'+vt.lng.toFixed(2)}).addTo(map);    
    //   })

        //hien thi kinh do - vi do popup
        // map.on("click",function(e){
        //     var vt = e.latlng;
        //         var popup = L.popup({closeOnClick: true})
        //             .setLatLng(vt)
        //             .setContent('vido:'+vt.lat.toFixed(2)+'<br>'+'kinhdo:'+vt.lng.toFixed(2)+ '<br>'+'<img src = "hinh.jpeg" style = "width:200px; heigth:100px;"/>').addTo(map);
    
        // })


        // var listMarker = [
        //     {
        //         "label":"Quận Ninh Kiều",
        //         "lat":10.0353984,
        //         "long":105.6776488
        //     },
        //     {
        //         "label":"Quận Ô Môn",
        //         "lat":10.1267902,
        //         "long":105.5478671
        //     },
        // ]
        // var marker2 = []
        // for (let i = 0; i < listMarker.length; i++) {
        //     var marker2 = new L.marker([listMarker[i]["lat"],listMarker[i]["long"]]).addTo(map).on('click', onClick);   
        //     function onClick(e){
        //         L.popup()
        //         .setLatLng([listMarker[i]["lat"]+0.01, listMarker[i]["long"]])
        //         .setContent('<p>'+listMarker[i]["label"]+'</p>')
        //         .openOn(map);
        //     }
        // }

        //popup DH KT_CN CT
        //  L.popup()
        // .setLatLng([10.0462933, 105.7660733])
        // .setContent('<div align="center"; style="color: #D30000"><p>Trường Đại học Kỹ thuật - Công nghệ Cần Thơ</p><img src="images.jpg" width="100" height="100" ></div>')
        // .openOn(map);

//         //lay vi tri cua toi
//         function onLocationFound(e) {
//             var latlng = e.latlng;
//             L.marker(latlng).addTo(map);
//             L.popup()
//             .setLatLng([latlng.lat + 0.03, latlng.lng])
//             .setContent('Tôi ở đây')
//             .openOn(map);
// }
// map.on('locationfound', onLocationFound);
// map.locate({setView: true, maxZoom: 16});

    // L.Control.geocoder().addTo(map);

// // Ve duong net dut
//      var latlngs = [
//         [10.04552,105.766555],
//         [10.0469507,105.767732]
//     ];
//     var polyline = L.polyline([latlngs], {
//         color: 'red',
//         dashArray: '10,10'}).addTo(map);
//     // zoom the map to the polyline
//     map.fitBounds(polyline.getBounds());

//Noi 2 diem tinh khoang cach
        // var count = 0;        var Start; var End;
        //     map.on('click', function(e){
        //         var latlng = e.latlng;
        //         count = count + 1;
        //         if (count == 1){
        //             L.marker(latlng).addTo(map)
        //             Start = latlng;
        //         }
        //         else if (count == 2 ){
        //             count = 0;
        //             L.marker(latlng).addTo(map)
        //             End = latlng;
        //             var Line = L.polyline([Start, End],{
        //                 color: '#052796',
        //             }).addTo(map);
        //             let length = map.distance(Start, End);
        //         var popup = L.popup()
        //         .setLatLng(latlng)
        //         .setContent('<p> Khoảng cách: ' + (length.toFixed(0)/1000) + "km" + '</p>')
        //         .openOn(map);
        //         }
        //     })

  //Câu 4
  //noi nhieu market
        // var count = 0 ;
        // map.on('click', function(e)
        // {  
        //     latlng = e.latlng;
        //     count = count + 1;
        //     if(count == 1)
        //     {
        //         L.marker(latlng).addTo(map)
        //         Start = L.latLng(latlng);
        //     }
        //     else if (count ==2)
        //     {
        //         L.marker(latlng).addTo(map)
        //         End = L.latLng(latlng);
        //         var Line = L.polyline([Start, End],
        //         {
        //             color:'#052796',
        //             weight: 3,               
        //         }).addTo(map);
        //     }
        //     else
        //     {
        //         L.marker(latlng).addTo(map)
        //         Start = End;
        //         End = L.latLng(latlng);
        //         var Line = L.polyline([Start, End],
        //         {
        //             color:'#052796',
        //             weight: 3,               
        //         }).addTo(map);
        //     }
        // })
        // map.on('dblclick', function(event){
        //     count = 0
        // });

        //hinh tron
        // var circle = L.circle([10.420287116045861, 105.39459228515626], {
        //     radius: 20000,
        //     color: '#FF4500'
        // },).addTo(map);
        // circle.bindPopup("I am a circle.");

        //di chuyen hinh tron
    //     map.on('click', function(e){
    //     var latlngu = e.latlng;
    //     L.circle(latlngu, {radius: 2000, draggable: true}).addTo(map);
    // })

        //hinh tam giac di chuyen
        // var triangle = L.polygon([
        //     [10.260870794748941, 106.36138916015626],
        //     [9.990490803070292 , 105.79284667968751],
        //     [9.901215754373554, 106.34216308593751],
        //     ],{draggable: true}).addTo(map);
        // triangle.bindPopup("I am a triangle.");

        //hinh tu giac di chuyen
        // var polygon = L.polygon([
        //     [9.722593006167342, 105.46600341796876],
        //     [9.822741867037168 , 106.35040283203126],
        //     [9.579084335882534 , 106.27624511718751],
        //     [9.267490076221147 , 105.73242187500001],
        //     [9.373192635083441, 104.97711181640625],
        //     ],{color: '#874CCC',draggable: true}).addTo(map);
        // polygon.bindPopup("I am a polygon.");

           
       //random hinh tron
        //  var  mangmau =['red', 'green', 'purple', 'pink','yellow']
        // map.on('click', function(e)
        // {
        //     var i = Math.floor(Math.random()*5);
        //     var latlng = e.latlng;
        //     var cr= L.circle(latlng, {
        //         radius: 10000,
        //         color: mangmau[i],
        //         //fillOpacity: 1,
        //         //draggable: true
        //     }).addTo(map);
        // });

        //ve 4 diem thanh 1 hinh
        // polygon = [];
        // map.on('click', function(e)
        // {
        //     var latlng = e.latlng;
        //     //L.marker(latlng).addTo(map);
        //     polygon.push(latlng);

        //     if (polygon.length > 3)
        //     {
        //         var polygon1 = L.polygon(polygon, {color: 'red', draggable: true}).addTo(map);
        //         polygon = [];
        //     }
        // })
        

        </script>
    
</body>
</html>
